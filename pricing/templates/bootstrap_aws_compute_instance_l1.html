{% extends "bootstrap_base.html" %}


{% block content %}

<h4>EC2 Compute Instances</h4>

<div class="row">
  <div class="col-xs-12">
  {% for item in items %}
    <div class="panel-group">
      <div class="panel panel-default">

        <div class="panel-heading">
          <h4 class="panel-title">
            <a data-toggle="collapse" href="#{{item.label|slugify}}">
              {{ item.label }}
            </a>
          </h4>
        </div>

        <div id="{{item.label|slugify}}" class="panel-collapse collapse">
          <div class="panel-body">
            <div class="table-responsive">
              <table class="table table-condensed">
                <thead>
                  <tr>
                    <th></th>
                    <th>Type</th>
                    <th>vCPU</th>
                    <th>Memory<br>(GiB)</th>
                    <th>Storage</th>
                    <th>Net<br>Perf</th>
                    <th>$/Hr</th>
                  </tr>
                </thead>
  
                <tbody>
                {% for i in item.items %}
                  {% if i.item.current_generation == 'No' %}
                    <tr class="danger"/>
                  {% else %}
                    <tr>
                  {% endif %}
  
                    <td>
                        {% if i.all_regions %}
                          <span class="glyphicon glyphicon-globe"/>
                        {% endif %}
                    </td>

                    <td>
                      <a href="/pricing/aws/offer_code={{offer_code}}/product_family=Compute Instance/compute_instance={{i.item.instance_type}}">
                        {{i.item.instance_type}}
                      </a>
                    </td>
                    <td>
                      {{ i.item.vcpu }}
                    </td>
                    <td>
                      {{ i.item.memory }}
                    </td>
                    <td>
                      {{ i.item.storage }}
                    </td>
                    <td>
                      {{ i.item.network_performance }}
                    </td>
                    <td>
                      {# TBD #### Price per Unit (Min) #}
                      <TBD>
                    </td>
                  </tr>
                {% endfor %}
                </tbody>
              </table>
            </div>
          </div>
        </div>

      </div>
    </div>
  {% endfor %}

  </div>
</div>
{% endblock %}
